<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ResQMinds üß†‚ú®</title>
<style>
  body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: #121212;
    color: #f1f1f1;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  header {
    width: 100%;
    padding: 15px;
    text-align: center;
    font-size: 1.8rem;
    font-weight: bold;
    background: #1a1a1a;
    color: #4cc9f0;
    box-shadow: 0 2px 10px rgba(0,0,0,0.6);
  }
  #hud {
    margin-top: 20px;
    display: flex;
    justify-content: space-between;
    width: 80%;
    font-size: 1.2rem;
  }
  #game-box {
    margin-top: 40px;
    max-width: 700px;
    background: #1e1e1e;
    padding: 20px;
    border-radius: 16px;
    text-align: center;
    line-height: 1.6;
  }
  #mentor {
    margin: 20px 0;
    font-size: 1.2rem;
    color: #ffd166;
    min-height: 60px;
  }
  .choices {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-top: 20px;
  }
  button {
    border: none;
    padding: 15px;
    font-size: 1rem;
    font-weight: bold;
    color: #fff;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.2s, background 0.3s;
  }
  button:hover { transform: scale(1.05); }
  button:active { transform: scale(0.95); }
  footer {
    margin-top: auto;
    padding: 15px;
    font-size: 0.9rem;
    color: #999;
  }
</style>
</head>
<body>

<header>üß† ResQMinds: Health & Safety Survival Game</header>

<div id="hud">
  <div>‚ù§ Lives: <span id="lives">3</span></div>
  <div>‚≠ê Score: <span id="score">0</span></div>
  <div>üìç Level: <span id="level">1</span></div>
</div>

<div id="game-box">
  <h2 id="scenario-title">Welcome to ResQMinds!</h2>
  <p id="scenario-text">Press Start to begin your survival training üöÄ</p>
  <div id="mentor"></div>
  <div class="choices" id="choices">
    <button style="background:#2a9d8f" onclick="startGame()">‚ñ∂ Start Game</button>
  </div>
</div>

<footer>Powered by AIGuide ‚ú®</footer>

<script>
// -------------------- VARIABLES --------------------
let score = 0, lives = 3, level = 1;
let currentScenarioIndex = 0, currentLevelIndex = 0;
let shuffledScenarios = [];

// DOM elements
const scoreEl = document.getElementById("score");
const livesEl = document.getElementById("lives");
const levelEl = document.getElementById("level");
const scenarioTitle = document.getElementById("scenario-title");
const scenarioText = document.getElementById("scenario-text");
const mentorDiv = document.getElementById("mentor");
const choicesDiv = document.getElementById("choices");

// -------------------- SCENARIOS --------------------
const allScenarios = [
  {
    title: "Dog Bite Emergency",
    levels: [
      {
        text: "Someone was bitten by a stray dog. What‚Äôs the FIRST thing to do?",
        choices: [
          { text: "üöø Wash wound with soap & water", correct: true, reason: "Cleaning removes saliva & reduces rabies risk." },
          { text: "ü©π Bandage immediately", correct: false, reason: "Bandaging without cleaning traps infection inside." },
          { text: "‚è≥ Wait & watch swelling", correct: false, reason: "Delaying is dangerous with rabies risk." }
        ]
      },
      {
        text: "After cleaning, what‚Äôs the next best step?",
        choices: [
          { text: "üè• Go to hospital for rabies shots", correct: true, reason: "Rabies vaccine is life-saving." },
          { text: "üíä Rest at home", correct: false, reason: "Home rest doesn‚Äôt prevent rabies." },
          { text: "üåø Apply turmeric paste", correct: false, reason: "Folk remedies can‚Äôt stop rabies." }
        ]
      },
      {
        text: "At the hospital, what‚Äôs crucial?",
        choices: [
          { text: "üíâ Complete the vaccine schedule", correct: true, reason: "Full course ensures protection." },
          { text: "üíä One dose only", correct: false, reason: "Single dose is not protective." },
          { text: "ü§ï Only painkillers", correct: false, reason: "Painkillers don‚Äôt prevent rabies." }
        ]
      }
    ]
  },
  {
    title: "Fire Emergency",
    levels: [
      {
        text: "Kitchen fire starts in a pan. What do you do?",
        choices: [
          { text: "üßØ Use a fire extinguisher", correct: true, reason: "Stops fire early & safely." },
          { text: "üö™ Run outside immediately", correct: false, reason: "You could have stopped it quickly." },
          { text: "üíß Pour water", correct: false, reason: "Water spreads oil fire explosively." }
        ]
      },
      {
        text: "Fire spreads to curtains, smoke rising fast!",
        choices: [
          { text: "üö™ Evacuate through nearest exit", correct: true, reason: "Escape before it‚Äôs too late." },
          { text: "üßØ Keep fighting", correct: false, reason: "Too risky once fire spreads widely." },
          { text: "üìû Call help while inside", correct: false, reason: "Staying inside risks smoke inhalation." }
        ]
      },
      {
        text: "Building filling with smoke. Best action?",
        choices: [
          { text: "‚¨á Stay low & crawl out", correct: true, reason: "Smoke rises ‚Äî crawling reduces inhalation." },
          { text: "‚Üî Open all windows", correct: false, reason: "This fuels the fire with oxygen." },
          { text: "‚¨Ü Run upstairs", correct: false, reason: "Higher levels = more smoke & danger." }
        ]
      }
    ]
  },
  {
    title: "Chest Pain Emergency",
    levels: [
      {
        text: "A man clutches chest, collapses. What‚Äôs first?",
        choices: [
          { text: "üìû Call emergency services", correct: true, reason: "Immediate help is critical." },
          { text: "üíß Give water", correct: false, reason: "Wastes valuable time." },
          { text: "üö∂ Help walk it off", correct: false, reason: "Exertion worsens heart attack." }
        ]
      },
      {
        text: "He‚Äôs unresponsive & not breathing. Action?",
        choices: [
          { text: "‚ù§ Start CPR", correct: true, reason: "Keeps blood circulating until medics arrive." },
          { text: "üí§ Place in sleeping position", correct: false, reason: "Does nothing when not breathing." },
          { text: "üìû Call a friend", correct: false, reason: "Wastes time, CPR is needed NOW." }
        ]
      },
      {
        text: "Ambulance arrives. Medic asks: Did you do CPR?",
        choices: [
          { text: "‚úÖ Yes", correct: true, reason: "Gave him a survival chance." },
          { text: "‚ùå No", correct: false, reason: "Delay reduced survival chances." },
          { text: "üò∞ Froze in panic", correct: false, reason: "Panic costs lives." }
        ]
      }
    ]
  },
  {
    title: "Choking Emergency",
    levels: [
      {
        text: "Friend choking, can‚Äôt breathe. First step?",
        choices: [
          { text: "ü§≤ Perform abdominal thrusts", correct: true, reason: "Heimlich clears the airway." },
          { text: "üíß Give water", correct: false, reason: "They can‚Äôt swallow or breathe." },
          { text: "üôÖ Do nothing", correct: false, reason: "Delays can kill quickly." }
        ]
      },
      {
        text: "They collapse unconscious. What now?",
        choices: [
          { text: "üöë Call emergency & start CPR", correct: true, reason: "Maintains oxygen supply." },
          { text: "üõå Put them on side", correct: false, reason: "Doesn‚Äôt help if airway is blocked." },
          { text: "üèÉ Wait for others", correct: false, reason: "Too late ‚Äî you must act." }
        ]
      },
      {
        text: "Object dislodges & breathing returns. Next?",
        choices: [
          { text: "üè• Seek medical evaluation", correct: true, reason: "Even after recovery, internal injury is possible." },
          { text: "üçΩ Continue eating", correct: false, reason: "They need medical clearance first." },
          { text: "üòÖ Ignore it", correct: false, reason: "Hidden airway damage may remain." }
        ]
      }
    ]
  }
];

// -------------------- GAME FUNCTIONS --------------------
function startGame() {
  score = 0; lives = 3; level = 1;
  scoreEl.textContent = score;
  livesEl.textContent = lives;
  levelEl.textContent = level;

  // Shuffle scenarios
  shuffledScenarios = [...allScenarios].sort(() => Math.random() - 0.5);
  currentScenarioIndex = 0;
  currentLevelIndex = 0;

  loadScenario();
}

function loadScenario() {
  if (currentScenarioIndex >= shuffledScenarios.length) {
    scenarioTitle.textContent = "üéâ Congratulations!";
    scenarioText.textContent = "You completed all emergencies!";
    mentorDiv.textContent = "";
    choicesDiv.innerHTML = "";
    return;
  }

  const scenario = shuffledScenarios[currentScenarioIndex];
  const levelData = scenario.levels[currentLevelIndex];

  scenarioTitle.textContent = scenario.title + " - Level " + (currentLevelIndex + 1);
  scenarioText.textContent = levelData.text;
  mentorDiv.textContent = "AIGuide: Choose wisely!";
  choicesDiv.innerHTML = "";

  levelData.choices.forEach(choice => {
    const btn = document.createElement("button");
    btn.textContent = choice.text;
    btn.style.background = "#3a86ff";

    btn.onclick = () => handleAnswer(choice);
    choicesDiv.appendChild(btn);
  });
}

function handleAnswer(choice) {
  mentorDiv.innerHTML = choice.correct 
    ? üëè Wowww! That's the correct answer!<br>${choice.reason}
    : üòÖ Nahhh!! No worries!! You're gonna learn it.<br>${choice.reason};

  if (choice.correct) {
    score += 10;
    scoreEl.textContent = score;
    setTimeout(nextLevel, 2000);
  } else {
    lives--;
    livesEl.textContent = lives;
    if (lives <= 0) {
      gameOver();
    } else {
      setTimeout(nextLevel, 2000);
    }
  }
}

function nextLevel() {
  const scenario = shuffledScenarios[currentScenarioIndex];
  if (currentLevelIndex < scenario.levels.length - 1) {
    currentLevelIndex++;
    level++;
    levelEl.textContent = level;
    loadScenario();
  } else {
    // Move to next scenario
    currentScenarioIndex++;
    currentLevelIndex = 0;
    level++;
    levelEl.textContent = level;
    loadScenario();
  }
}

function gameOver() {
  scenarioTitle.textContent = "üíÄ Game Over!";
  scenarioText.textContent = "You ran out of lives!";
  choicesDiv.innerHTML = "";
  mentorDiv.textContent = "";

  const retryBtn = document.createElement("button");
  retryBtn.textContent = "üîÑ Try Again";
  retryBtn.style.background = "#e63946";
  retryBtn.onclick = startGame;
  choicesDiv.appendChild(retryBtn);
}
</script>

</body>
</html>
